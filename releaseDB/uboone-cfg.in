# build uboonecode

basequal=${1}

# specify version to bootstrap and setup ups
check_ups v6_0_7

build_bundle larsoft-@LARSOFT_DOT_VERSION@ ${basequal}
status=$?
if (( ${status} != 0)); then
  cat 1>&2 <<EOF
Build of larsoft-@LARSOFT_DOT_VERSION@ bundle failed with status ${status}
EOF
  return ${status}
fi

ensure_cetbuildtools v7_03_02

pull_product uboone_photon_propagation @UBOONE_PHOTON_PROPAGATION_VERSION@ uboone_photon_propagation-@UBOONE_PHOTON_PROPAGATION_DOT_VERSION@-noarch.tar.bz2
pull_product swtrigger @SWTRIGGER_VERSION@ swtrigger-@SWTRIGGER_DOT_VERSION@-${thisplat}-${basequal}-${build_type}.tar.bz2
pull_product larlite @LARLITE_VERSION@ larlite-@LARLITE_DOT_VERSION@-${thisplat}-${basequal}-${build_type}.tar.bz2
pull_product larcv @LARCV_VERSION@ larcv-@LARCV_DOT_VERSION@-${thisplat}-${basequal}-${build_type}.tar.bz2
pull_product uboonedaq_datatypes @UBOONEDAQ_DATATYPES_VERSION@ uboonedaq_datatypes-@UBOONEDAQ_DATATYPES_VERSION@-${thisplat}-${basequal}-${build_type}.tar.bz2
build_cet_null uboonedata @UBOONEDATA_VERSION@
build_cet ubutil @UBUTIL_VERSION@ ${basequal}
build_cet -n uboonecode @UBOONECODE_VERSION@ ${basequal}

return 0
